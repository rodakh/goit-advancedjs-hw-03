{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] = 'live_45Jf0BQQbEXHmhLx1lKDFvLPiMs13lHsJHjJZeEv5gqp14Prpgo7oMtGjRVC8AS1';\n\nexport function fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data)\n    .catch(error => {\n      throw new Error(`Error fetching breeds ${error}`,);\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0])\n    .catch(error => {\n      throw new Error(`Error fetching cat by breed ${error}`);\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport iziToast from 'izitoast';\nimport SlimSelect from 'slim-select';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n\nlet isIntitialized = false;\nloader.style.display = 'none';\n\nconst slimSelectInstance = new SlimSelect({\n  select: breedSelect,\n});\n\nfunction populateBreedSelect(breeds) {\n  breedSelect.innerHTML = `<option value='' selected>Select a breed</option>` +\n    breeds.map(breed =>\n      `<option value='${breed.id}'>${breed.name}</option>`,\n    ).join('');\n  slimSelectInstance.setData([\n    { text: 'Select a breed', value: '', selected: true },\n    ...breeds.map(breed => ({ text: breed.name, value: breed.id })),\n  ]);\n}\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n  if(!isIntitialized) {\n    document.querySelector('.ss-main').style.display = 'none'\n  }\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n  if(!isIntitialized) {\n    document.querySelector('.ss-main').style.display = 'flex'\n    isIntitialized = true;\n  }\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nfunction updateCatInfo(cat) {\n  catInfo.innerHTML = `\n    <img src='${cat.url}' alt='${cat.breeds[0].name}' />\n    <h2>${cat.breeds[0].name}</h2>\n    <p>${cat.breeds[0].description}</p>\n    <p><strong>Temperament:</strong> ${cat.breeds[0].temperament}</p>\n  `;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  showLoader();\n  fetchBreeds()\n    .then(breeds => {\n      hideLoader();\n      populateBreedSelect(breeds);\n    })\n    .catch(err => {\n      hideLoader();\n      showError('Failed to load breed information. Please try again later.');\n    });\n});\n\nbreedSelect.addEventListener('change', event => {\n  const breedId = event.target.value;\n  if (!breedId) return;\n\n  showLoader();\n  catInfo.innerHTML = '';\n\n  fetchCatByBreed(breedId)\n    .then(cat => {\n      hideLoader();\n      updateCatInfo(cat);\n    })\n    .catch(err => {\n      hideLoader();\n      showError('Failed to load cat information. Please try again later.');\n    });\n});\n"],"names":["axios","fetchBreeds","response","error","fetchCatByBreed","breedId","breedSelect","loader","catInfo","isIntitialized","slimSelectInstance","SlimSelect","populateBreedSelect","breeds","breed","showLoader","hideLoader","showError","message","iziToast","updateCatInfo","cat","err","event"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAEtC,SAASC,GAAc,CAC5B,OAAOD,EAAM,IAAI,qCAAqC,EACnD,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,yBAAyBA,CAAK,EAAE,CACtD,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EAAM,IAAI,wDAAwDK,CAAO,EAAE,EAC/E,KAAKH,GAAYA,EAAS,KAAK,CAAC,CAAC,EACjC,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,+BAA+BA,CAAK,EAAE,CAC5D,CAAK,CACL,CCbA,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElD,IAAIC,EAAiB,GACrBF,EAAO,MAAM,QAAU,OAEvB,MAAMG,EAAqB,IAAIC,EAAW,CACxC,OAAQL,CACV,CAAC,EAED,SAASM,EAAoBC,EAAQ,CACnCP,EAAY,UAAY,oDACtBO,EAAO,IAAIC,GACT,kBAAkBA,EAAM,EAAE,KAAKA,EAAM,IAAI,WAC/C,EAAM,KAAK,EAAE,EACXJ,EAAmB,QAAQ,CACzB,CAAE,KAAM,iBAAkB,MAAO,GAAI,SAAU,EAAM,EACrD,GAAGG,EAAO,IAAIC,IAAU,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAI,EAAC,CAClE,CAAG,CACH,CAEA,SAASC,GAAa,CACpBR,EAAO,MAAM,QAAU,eACnBE,IACF,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,OAEvD,CAEA,SAASO,GAAa,CACpBT,EAAO,MAAM,QAAU,OACnBE,IACF,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,OACnDA,EAAiB,GAErB,CAEA,SAASQ,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CAEA,SAASE,EAAcC,EAAK,CAC1Bb,EAAQ,UAAY;AAAA,gBACNa,EAAI,GAAG,UAAUA,EAAI,OAAO,CAAC,EAAE,IAAI;AAAA,UACzCA,EAAI,OAAO,CAAC,EAAE,IAAI;AAAA,SACnBA,EAAI,OAAO,CAAC,EAAE,WAAW;AAAA,uCACKA,EAAI,OAAO,CAAC,EAAE,WAAW;AAAA,GAEhE,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDN,IACAd,EAAa,EACV,KAAKY,GAAU,CACdG,IACAJ,EAAoBC,CAAM,CAChC,CAAK,EACA,MAAMS,GAAO,CACZN,IACAC,EAAU,2DAA2D,CAC3E,CAAK,CACL,CAAC,EAEDX,EAAY,iBAAiB,SAAUiB,GAAS,CAC9C,MAAMlB,EAAUkB,EAAM,OAAO,MACxBlB,IAELU,IACAP,EAAQ,UAAY,GAEpBJ,EAAgBC,CAAO,EACpB,KAAKgB,GAAO,CACXL,IACAI,EAAcC,CAAG,CACvB,CAAK,EACA,MAAMC,GAAO,CACZN,IACAC,EAAU,yDAAyD,CACzE,CAAK,EACL,CAAC"}